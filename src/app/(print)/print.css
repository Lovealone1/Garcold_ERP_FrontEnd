/* ====== KNOBS (ajusta aquí) ====== */
:root {
    /* Márgenes reales del PDF (de @page) */
    --pg-top: 0mm;
    --pg-right: 10mm;
    --pg-bottom: 10mm;
    --pg-left: 0mm;

    /* Ancho del contenido (factura) */
    --content-width: 217mm;
    /* prueba 186–192mm */

    /* Empujes finos dentro del área imprimible */
    --nudge-x: 0mm;
    /* + mueve a la derecha, - a la izquierda */
    --nudge-y: 0mm;
    /* + baja, - sube */
}

/* ====== PANTALLA ====== */
.print-wrap {
    min-height: 100vh;
    display: flex;
    justify-content: center;
    padding-right: 30px;
}

.print-sheet {
    width: var(--content-width);
    min-height: 297mm;
    background: #fff;
}

/* Oculta shell */
#app-shell,
nav,
aside,
.sidebar {
    display: none !important;
}

/* ====== IMPRESIÓN ====== */
@page {
    size: A4;
    margin: var(--pg-top) var(--pg-right) var(--pg-bottom) var(--pg-left);
}

@media print {

    html,
    body {
        height: auto;
    }

    body {
        margin: 0 !important;
        background: #fff !important;
    }

    .print-wrap {
        min-height: auto;
        background: transparent !important;
    }

    /* Centrado + offsets manuales (sin transforms) */
    .print-sheet {
        width: var(--content-width) !important;
        min-height: auto !important;
        /* centra dentro del área imprimible y permite nudge */
        margin-top: var(--nudge-y) !important;
        margin-right: auto !important;
        margin-bottom: 0 !important;
        margin-left: calc(((210mm - var(--pg-left) - var(--pg-right) - var(--content-width)) / 2) + var(--nudge-x)) !important;

        padding: 0 !important;
        box-shadow: none !important;
        background: #fff !important;
    }

    * {
        transform: none !important;
        filter: none !important;
    }

    img,
    svg,
    canvas {
        max-width: 100%;
    }

    table,
    thead,
    tbody,
    tr,
    td,
    th {
        break-inside: avoid;
        page-break-inside: avoid;
    }

    .print-sheet> :first-child {
        break-before: auto !important;
        page-break-before: auto !important;
        margin-block-start: 0 !important;
        /* evita colapso que empuja a página nueva */
    }

    /* 2) Nunca rompas después del último bloque */
    .print-sheet> :last-child {
        break-after: auto !important;
        page-break-after: auto !important;
        margin-block-end: 0 !important;
    }

    /* 3) Mantén juntos los dos últimos (totales + mensaje) */
    .print-sheet> :nth-last-child(-n + 2) {
        break-inside: avoid !important;
        page-break-inside: avoid !important;
    }
}